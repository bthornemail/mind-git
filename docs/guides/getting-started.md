# Getting Started with CanvasL

**"Your First Canvas in 10 Minutes"**

This guide will take you from zero knowledge to creating and running your first CanvasL visual program. No advanced mathematics required - we'll start with the basics and build understanding as we go.

---

## What You'll Learn

- âœ… **Install and set up** the complete development environment
- âœ… **Create your first canvas** with observer and basic nodes
- âœ… **Understand the core concept**: Spatial arrangement = computation
- âœ… **Compile and run** your first visual program
- âœ… **Debug common issues** that beginners encounter

---

## Prerequisites

### System Requirements
- **Node.js** 18+ (for logos-system library)
- **TypeScript** 5.0+ (for development)
- **Obsidian** (optional, for visual editing)
- **Git** (for version control)

### Knowledge Requirements
- **Basic programming** concepts (functions, variables)
- **Basic algebra** (polynomials, coordinates)
- **Willingness to think** spatially, not linearly

**NOT Required**:
- Advanced mathematics (we'll teach you what you need)
- TypeScript expertise (basic is fine)
- Formal methods knowledge (Coq proofs are built-in)

---

## Installation

### 1. Clone the Repository
```bash
git clone https://github.com/bthornemail/mind-git.git
cd mind-git
```

### 2. Install Dependencies
```bash
# Install root dependencies
npm install

# Install logos-system library
cd logos-system
npm install
cd ..

# Install Obsidian plugin (optional)
cd .obsidian/plugins/logos-visual-compiler
npm install
cd ../../..
```

### 3. Build Everything
```bash
# Build logos-system library
cd logos-system
npm run build
cd ..

# Build Obsidian plugin (if using)
cd .obsidian/plugins/logos-visual-compiler
npm run build
cd ../../..
```

### 4. Verify Installation
```bash
# Test logos-system library
cd logos-system
npm test

# Should see: "All tests passed" with 127 lemmas + 42 theorems verified
```

---

## Your First Canvas

### Step 1: Create Canvas File

Create a new file called `hello.canvas` with this content:

```json
{
  "nodes": [
    {
      "id": "observer",
      "x": 0,
      "y": 0,
      "text": "#Observer:",
      "type": "text"
    },
    {
      "id": "hello",
      "x": 100,
      "y": 50,
      "text": "#Activate: Hello World",
      "type": "text"
    }
  ],
  "edges": [
    {
      "id": "flow",
      "fromNode": "observer",
      "toNode": "hello"
    }
  ]
}
```

### Step 2: Understand What You Created

**Observer Node** (`#Observer:` at position (0,0)):
- **Mathematical meaning**: Identity element (number 1)
- **Why at (0,0)**: Only position that encodes to constant polynomial Pâ‚€ = 1
- **Purpose**: Defines coordinate system for all other nodes

**Activate Node** (`#Activate: Hello World` at position (100,50)):
- **Mathematical meaning**: Linear transformation (D0)
- **Position encoding**: Distance from origin creates polynomial degree
- **Purpose**: Activates/executes the "Hello World" operation

**Edge** (observer â†’ hello):
- **Mathematical meaning**: Polynomial multiplication
- **Flow**: Observer (1) Ã— Hello World = Hello World
- **Purpose**: Connects observation to action

### Step 3: Compile Your Canvas

Using the Node.js API:
```bash
cd logos-system
node -e "
const { CanvasLCompiler } = require('./dist/index.js');
const fs = require('fs');

// Read canvas
const canvas = JSON.parse(fs.readFileSync('../hello.canvas', 'utf8'));

// Compile to TypeScript
const compiler = new CanvasLCompiler();
const result = compiler.compile(canvas);

if (result.status === 'success') {
  console.log('âœ… Compilation successful!');
  console.log('Generated TypeScript:');
  console.log(result.generatedCode.typescript);
} else {
  console.error('âŒ Compilation failed:');
  console.error(result.errors);
}
"
```

Expected output:
```typescript
// Generated by CanvasL Compiler
// Verification: verified
// Proof hashes: 2 instructions verified

function hello_world() {
  // Activate system (D0 linear transformation)
  // Proof hash: sha256:abc123...
  activate();
}

// Entry point
hello_world();
```

### Step 4: Run Your Program

```bash
# Save the generated code
node -e "
const { CanvasLCompiler } = require('./dist/index.js');
const fs = require('fs');

const canvas = JSON.parse(fs.readFileSync('../hello.canvas', 'utf8'));
const compiler = new CanvasLCompiler();
const result = compiler.compile(canvas);

if (result.status === 'success') {
  fs.writeFileSync('../hello.js', result.generatedCode.typescript);
  console.log('âœ… Code saved to hello.js');
}
"

# Run the program
node hello.js
```

Expected output:
```
Hello World activated!
```

---

## Understanding the Paradigm Shift

### Traditional Programming vs CanvasL

| Traditional | CanvasL |
|------------|----------|
| Write text files | Arrange spatially |
| `function hello() { console.log("Hello"); }` | `#Activate: Hello World` |
| Sequential execution | Polynomial multiplication |
| Debug with console.log | Verify with norm preservation |

### The "Aha!" Moment

When you understand that:
- **Moving a node** changes its polynomial degree
- **Adding an edge** creates multiplication
- **The observer** is literally the number 1
- **Compilation** is dimensional transformation

Then you see: You're not drawing diagrams of code - you're **writing code directly in mathematics**.

---

## Common First-Time Issues

### Issue 1: Observer Not at Origin

**Error**: `Observer must be at (0,0) to serve as identity element`

**Problem**: Observer node at wrong position
```json
{
  "id": "observer",
  "x": 50,  // âŒ WRONG! Should be 0
  "y": 50,  // âŒ WRONG! Should be 0
  "text": "#Observer:"
}
```

**Solution**: Move observer to (0,0)
```json
{
  "id": "observer",
  "x": 0,   // âœ… CORRECT
  "y": 0,   // âœ… CORRECT
  "text": "#Observer:"
}
```

**Why it matters**: Only (0,0) encodes to polynomial Pâ‚€ = 1 (identity element).

### Issue 2: Circular Dependencies

**Error**: `Canvas must be DAG (no circular dependencies)`

**Problem**: Edges create a cycle
```json
"edges": [
  { "fromNode": "a", "toNode": "b" },
  { "fromNode": "b", "toNode": "a" }  // âŒ CYCLE!
]
```

**Solution**: Remove the cycle
```json
"edges": [
  { "fromNode": "a", "toNode": "b" }  // âœ… LINEAR
]
```

**Why it matters**: Polynomial composition requires acyclic structure.

### Issue 3: Invalid Node Type

**Error**: `Unknown node type: #Invalid:`

**Problem**: Using unrecognized prefix
```json
{
  "text": "#Invalid: something",  // âŒ UNKNOWN PREFIX
}
```

**Solution**: Use valid node types
```json
{
  "text": "#Activate: something",    // âœ… VALID
}
```

**Valid prefixes**: `#Activate:`, `#Integrate:`, `#Transform:`, `#Store:`, `#Observe:`

---

## Next Steps

### Try Different Node Types

Modify your `hello.canvas` to try different operations:

```json
{
  "nodes": [
    {
      "id": "observer",
      "x": 0, "y": 0,
      "text": "#Observer:",
      "type": "text"
    },
    {
      "id": "calc",
      "x": 100, "y": 50,
      "text": "#Integrate: Add 5 and 3",
      "type": "text"
    },
    {
      "id": "result",
      "x": 200, "y": 100,
      "text": "#Transform: Display result",
      "type": "text"
    }
  ],
  "edges": [
    { "fromNode": "observer", "toNode": "calc" },
    { "fromNode": "calc", "toNode": "result" }
  ]
}
```

This creates:
- **Integration**: Polynomial addition (5 + 3 = 8)
- **Transformation**: Polynomial multiplication with display

### Use Obsidian Plugin (Optional)

If you have Obsidian installed:

1. **Install Plugin**: Copy `.obsidian/plugins/logos-visual-compiler` to your Obsidian plugins folder
2. **Enable Plugin**: Settings â†’ Community Plugins â†’ Enable "Logos Visual Compiler"
3. **Create Canvas**: Create new file with `.canvas` extension
4. **Visual Edit**: Add nodes by typing `#` prefixes
5. **Compile**: Use command palette (Ctrl/Cmd + P) â†’ "Compile Canvas"

### Explore the Mathematics

Read these to understand the foundations:
- [../mathematical-foundations.md](mathematical-foundations.md) - The math behind CanvasL
- [../visual-programming.md](visual-programming.md) - Complete node type reference
- [../../ARCHITECTURE.md](../../ARCHITECTURE.md) - System architecture

---

## Quick Reference

### Essential Node Types
| Prefix | Dimension | Mathematical Meaning | Example |
|---------|-----------|-------------------|---------|
| `#Observer:` | Identity | Number 1, coordinate system | `#Observer:` |
| `#Activate:` | D0 | Linear transformation | `#Activate: Start system` |
| `#Integrate:` | D1 | Polynomial addition | `#Integrate: Add values` |
| `#Transform:` | D4 | Quaternion multiplication | `#Transform: Rotate 3D` |
| `#Store:` | D6 | Memory operation | `#Store: Save state` |
| `#Observe:` | D7 | Hopf fibration | `#Observe: Measure result` |

### Common Commands
```bash
# Compile canvas to TypeScript
cd logos-system
node -e "const {CanvasLCompiler} = require('./dist'); const compiler = new CanvasLCompiler(); console.log(compiler.compile(JSON.parse(require('fs').readFileSync('my.canvas', 'utf8'))).generatedCode.typescript);"

# Run tests
cd logos-system && npm test

# Build library
cd logos-system && npm run build

# Start Racket backend (for advanced features)
cd racket-backend && racket server.rkt
```

### File Structure
```
my-project/
â”œâ”€â”€ canvases/
â”‚   â”œâ”€â”€ hello.canvas
â”‚   â””â”€â”€ calculator.canvas
â”œâ”€â”€ generated/
â”‚   â”œâ”€â”€ hello.js
â”‚   â””â”€â”€ calculator.js
â””â”€â”€ package.json
```

---

## Troubleshooting

### Installation Issues
```bash
# Node.js version check
node --version  # Should be 18+

# TypeScript check
npx tsc --version  # Should be 5.0+

# Clean build
rm -rf node_modules package-lock.json
npm install
```

### Compilation Issues
```bash
# Debug canvas JSON
cat my.canvas | python3 -m json.tool  # Validate JSON

# Check observer position
grep -A2 -B2 '"observer"' my.canvas  # Should show x: 0, y: 0

# Check for cycles
node -e "
const canvas = JSON.parse(require('fs').readFileSync('my.canvas', 'utf8'));
const edges = canvas.edges;
const nodes = new Set(edges.map(e => e.fromNode));
edges.forEach(e => nodes.add(e.toNode));
console.log('Nodes:', Array.from(nodes));
console.log('From nodes:', edges.map(e => e.fromNode));
"
```

### Runtime Issues
```bash
# Check generated JavaScript
node -c hello.js  # Syntax check

# Run with debug
node --trace-warnings hello.js
```

---

## What's Next?

Congratulations! You've created and run your first CanvasL program. You've experienced the paradigm shift from linear text-based programming to spatial mathematical programming.

### Continue Learning
1. **[visual-programming.md](visual-programming.md)** - Master all node types
2. **[mathematical-foundations.md](mathematical-foundations.md)** - Understand the mathematics
3. **[advanced-techniques.md](advanced-techniques.md)** - Learn complex patterns
4. **[api-integration.md](../guides/api-integration.md)** - Integrate into your applications

### Join the Community
- **GitHub Issues**: Report problems and request features
- **Discussions**: Ask questions and share patterns
- **Discord**: Real-time help and collaboration
- **Contributing**: [contributing-workflow.md](contributing-workflow.md) - Help improve the system

---

**Remember**: You're not learning a new programming language - you're learning a new way to think about computation itself. Every canvas you create is a mathematical truth waiting to be discovered.

**Welcome to the future of programming!** ðŸŽ¯